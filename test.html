<!DOCTYPE HTML>
<html>
<head>
<title> Canvas JS charts for latirute vs timestamp</title>
</head>
<body>
<div id="chartContainer" style="height: 300px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>

<script>
        window.onload = function() {
        
        var dataPoints = [];
        
        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2",
            title: {
                text: "Air Temp vs Time"
            },
            axisY: {
                title: "Latitude",
                titleFontSize: 24
            },
            data: [{
                type: "scatter",
                
                dataPoints: dataPoints
            }]
        });
        
        
    
          $(function(){


 // $.getJSON("http://gsx2json.com/api?id=1vc7wCjNXK39HMEYDkOJRMhQGPJpxMu4MJgTsydyLats&columns=false", function(d){
  $.ajax({
  url: "http://gsx2json.com/api?id=1vc7wCjNXK39HMEYDkOJRMhQGPJpxMu4MJgTsydyLats&columns=false",
  jsonp: "callback",
  dataType: "jsonp",
 
  context: document.body
}).done(function(d){
    $.each(d.rows, function(i, r){
      if(r.sitename == "Garland Ranch: Vehicle Bridge" && r.temperaturesample1celsius !== 0 && r.groupnumber == 4)
    {
      dataPoints.push({
        x: new Date(r.date),
        y: r.temperaturesample1celsius
      })
    }
    })
  }).fail(function(xhr, status, error) {
    console.log("Ajax Error", status, error);
  });

  
  chart.render();
        
});

        }
 </script>
</body>
</html>


